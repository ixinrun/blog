{"title":"Flutter环境搭建","date":"2022-01-18T14:12:00.000Z","date_formatted":{"ll":"2022年1月18日","L":"2022/01/18","MM-DD":"01-18"},"link":"posts/1642515162","comments":true,"categories":["Flutter"],"updated":"2022-08-25T14:14:20.388Z","content":"<p>Flutter开发也有一段时间了，一直也没有总结，今天发现最初的环境搭建还要各种搜，是时候来上一篇了，以下是在AndroidStudio中进行Flutter环境搭建过程。</p>\n<a id=\"more\"></a>\n<h2 id=\"开发环境搭建\">开发环境搭建<a title=\"#开发环境搭建\" href=\"#开发环境搭建\"></a></h2>\n<h3 id=\"1.下载安装插件&quot;dart&quot;和&quot;flutter&quot;\">1.下载安装插件&quot;Dart&quot;和&quot;Flutter&quot;<a title=\"#1.下载安装插件&quot;dart&quot;和&quot;flutter&quot;\" href=\"#1.下载安装插件&quot;dart&quot;和&quot;flutter&quot;\"></a></h3>\n<p><img src=\"https://note.youdao.com/yws/api/personal/file/FE306603547E4456AC768FDFA58E918D?method=download&amp;shareKey=3866ea9a904af2418f08deb0cf2f1dbe\" alt=\"下载安装Dart插件\" loading=\"lazy\" class=\"φbp\"></p>\n<p><img src=\"https://note.youdao.com/yws/api/personal/file/ACB3BB2BCA534B6EA7374458E99CF848?method=download&amp;shareKey=687a873a5067ba9f743e3c20e930f26b\" alt=\"下载安装Flutter插件\" loading=\"lazy\" class=\"φbp\"></p>\n<h3 id=\"2.下载flutter-sdk\">2.下载Flutter SDK<a title=\"#2.下载flutter-sdk\" href=\"#2.下载flutter-sdk\"></a></h3>\n<p>官网地址：<a href=\"https://flutter.dev/docs/development/tools/sdk/releases\">https://flutter.dev/docs/development/tools/sdk/releases</a></p>\n<p>或者从源仓库中下载Release包：<a href=\"https://github.com/flutter/flutter\">https://github.com/flutter/flutter</a></p>\n<h3 id=\"3.配置环境变量\">3.配置环境变量<a title=\"#3.配置环境变量\" href=\"#3.配置环境变量\"></a></h3>\n<p>配置Flutter SDK环境变量是为了在AndroidStudio中集成Terminal命令行。</p>\n<p><img src=\"https://note.youdao.com/yws/api/personal/file/E6908575E1A64AB681B4BD1851B35D86?method=download&amp;shareKey=0f5ad0ba2f98aa28daec9410bf0a640e\" alt=\"Flutter_SDK环境变量\" loading=\"lazy\" class=\"φbp\"></p>\n<h3 id=\"4.测试flutter环境\">4.测试Flutter环境<a title=\"#4.测试flutter环境\" href=\"#4.测试flutter环境\"></a></h3>\n<p>打开命令行，输入<code>flutter doctor</code></p>\n<h2 id=\"工程搭建\">工程搭建<a title=\"#工程搭建\" href=\"#工程搭建\"></a></h2>\n<h3 id=\"新建工程\">新建工程<a title=\"#新建工程\" href=\"#新建工程\"></a></h3>\n<p><img src=\"https://note.youdao.com/yws/api/personal/file/5B98C518AF2642FAB9F125935E560159?method=download&amp;shareKey=046120f59e4a31e8ef58be294be5fe10\" alt=\"Flutter新建工程\" loading=\"lazy\" class=\"φbp\"></p>\n<ul>\n<li>Flutter Application：创建一个Flutter项目，内部包含iOS和Android。</li>\n<li>Flutter Plugin: 可以通过plugin形式包装原生代码，使得Flutter项目能够调用plugin的中原生代码。</li>\n<li>Flutter Package: 纯Dart层实现，常用于定义一些公共的widget。</li>\n<li>Flutter Module: 混编到已有的android或者iOS功能内，即在现有的项目中引入Flutter。</li>\n</ul>\n<h3 id=\"pubspec.yaml认识\">pubspec.yaml认识<a title=\"#pubspec.yaml认识\" href=\"#pubspec.yaml认识\"></a></h3>\n<p><code>pubspec.yaml</code>文件是flutter全局配置文件，类似Android上的AndroidManifest或者Gradle。</p>\n<p>flutter应用开发中的pubspec.yaml:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 键值对，表示app的名字为flutter_app</span></span><br><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">flutter_app</span></span><br><span class=\"line\"><span class=\"comment\"># 描述</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">A</span> <span class=\"string\">new</span> <span class=\"string\">Flutter</span> <span class=\"string\">application.</span></span><br><span class=\"line\"><span class=\"comment\"># flutter工程版本，加号前是版本号，加号后是版本名字</span></span><br><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"number\">1.0</span><span class=\"number\">.0</span><span class=\"string\">+1000</span></span><br><span class=\"line\"><span class=\"comment\"># SDK环境，dart的SDK和flutter的SDK都可以设置在这里。</span></span><br><span class=\"line\"><span class=\"attr\">environment:</span></span><br><span class=\"line\">  <span class=\"comment\"># dart sdk，一般设置一个最小兼容版本</span></span><br><span class=\"line\">  <span class=\"attr\">sdk:</span> <span class=\"string\">&quot;&gt;=2.12.0 &lt;3.0.0&quot;</span></span><br><span class=\"line\">  <span class=\"comment\"># flutter sdk，团队开发时可以把flutter sdk版本固定，防止团队间不一致，默认可不用设置。</span></span><br><span class=\"line\"><span class=\"comment\">#  flutter: &quot;2.5.0&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 依赖库</span></span><br><span class=\"line\"><span class=\"attr\">dependencies:</span></span><br><span class=\"line\">  <span class=\"attr\">flutter:</span></span><br><span class=\"line\">    <span class=\"attr\">sdk:</span> <span class=\"string\">flutter</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\"># cupertino图标，项目开发一般是自己的图标，所以此处也不一定能用到</span></span><br><span class=\"line\">  <span class=\"attr\">cupertino_icons:</span> <span class=\"string\">^1.0.3</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">#Flutter国际化支持</span></span><br><span class=\"line\">  <span class=\"attr\">flutter_localizations:</span></span><br><span class=\"line\">    <span class=\"attr\">sdk:</span> <span class=\"string\">flutter</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 权限申请</span></span><br><span class=\"line\">  <span class=\"attr\">permission_handler:</span> <span class=\"string\">^8.2.5</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">#图片加载组件 https://pub.dev/packages/extended_image/install</span></span><br><span class=\"line\">  <span class=\"attr\">extended_image:</span> <span class=\"string\">^5.1.3</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 预览图片</span></span><br><span class=\"line\">  <span class=\"attr\">photo_view:</span> <span class=\"string\">^0.13.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 图片压缩 https://pub.flutter-io.cn/packages/flutter_image_compress</span></span><br><span class=\"line\">  <span class=\"attr\">flutter_image_compress:</span> <span class=\"string\">^1.1.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">#自定义加载框、toast、弹框 https://pub.dev/packages/flutter_smart_dialog/versions</span></span><br><span class=\"line\">  <span class=\"attr\">flutter_smart_dialog:</span> <span class=\"string\">^3.3.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 获取应用程序包信息（应用名，包名，版本号，构建号等等）</span></span><br><span class=\"line\">  <span class=\"attr\">package_info:</span> <span class=\"string\">^2.0.2</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 获取文件系统中常用的目录路径</span></span><br><span class=\"line\">  <span class=\"attr\">path_provider:</span> <span class=\"string\">^2.0.5</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 下拉刷新上拉加载</span></span><br><span class=\"line\">  <span class=\"attr\">flutter_easyrefresh:</span> <span class=\"string\">^2.2.1</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 打电话、打开网址、发送邮件、信息</span></span><br><span class=\"line\">  <span class=\"attr\">url_launcher:</span> <span class=\"string\">^6.0.12</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 状态管理器 GetX</span></span><br><span class=\"line\">  <span class=\"attr\">get:</span> <span class=\"string\">^4.3.8</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 网络库</span></span><br><span class=\"line\">  <span class=\"attr\">dio:</span> <span class=\"string\">^4.0.3</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 加解密</span></span><br><span class=\"line\">  <span class=\"attr\">crypto:</span> <span class=\"string\">^3.0.1</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># 若该插件未部署在pub.dev上，例如部署在私服上，可以通过URL来指定出插件下载的源</span></span><br><span class=\"line\">  <span class=\"attr\">common_widget_lib:</span></span><br><span class=\"line\">    <span class=\"attr\">hosted:</span></span><br><span class=\"line\">      <span class=\"attr\">name:</span> <span class=\"string\">common_widget_lib</span></span><br><span class=\"line\">      <span class=\"attr\">url:</span> <span class=\"string\">http://192.168.x.xx:8080</span></span><br><span class=\"line\">    <span class=\"attr\">version:</span> <span class=\"number\">2.0</span><span class=\"number\">.1</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># # 有时候插件在本地，那么直接可以指定本地路径，这种情况一般是本地调试，调试完毕一般都会发布到远程。</span></span><br><span class=\"line\">  <span class=\"comment\"># common_widget_lib:</span></span><br><span class=\"line\">  <span class=\"comment\">#   path: ../common_widget_lib</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#测试环境的依赖库</span></span><br><span class=\"line\"><span class=\"attr\">dev_dependencies:</span></span><br><span class=\"line\">  <span class=\"attr\">flutter_test:</span></span><br><span class=\"line\">    <span class=\"attr\">sdk:</span> <span class=\"string\">flutter</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">flutter:</span></span><br><span class=\"line\">  <span class=\"comment\">#使用Material图标</span></span><br><span class=\"line\">  <span class=\"attr\">uses-material-design:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"comment\">#assets文件，用来指定assets文件夹下的图片资源</span></span><br><span class=\"line\">  <span class=\"attr\">assets:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">assets/images/common/</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">assets/images/login/</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">assets/images/main/</span></span><br><span class=\"line\">  <span class=\"comment\">#字体样式</span></span><br><span class=\"line\">  <span class=\"comment\">#fonts:</span></span><br><span class=\"line\">     <span class=\"comment\">#family与fonts是一个整体，列表的一项</span></span><br><span class=\"line\">     <span class=\"comment\"># - family: Schyler</span></span><br><span class=\"line\">     <span class=\"comment\">#  fonts:</span></span><br><span class=\"line\">     <span class=\"comment\">#    - asset: fonts/Schyler-Regular.ttf</span></span><br><span class=\"line\">     <span class=\"comment\">#    - asset: fonts/Schyler-Italic.ttf</span></span><br><span class=\"line\">     <span class=\"comment\">#      style: italic</span></span><br><span class=\"line\">     <span class=\"comment\"># - family: Trajan Pro</span></span><br><span class=\"line\">     <span class=\"comment\">#  fonts:</span></span><br><span class=\"line\">     <span class=\"comment\">#    - asset: fonts/TrajanPro.ttf</span></span><br><span class=\"line\">     <span class=\"comment\">#    - asset: fonts/TrajanPro_Bold.ttf</span></span><br><span class=\"line\">     <span class=\"comment\">#      weight: 700</span></span><br></pre></td></tr></table></figure>\n<p>flutter plugin中的pubspec.yaml，相比工程中的主要区别就是需要明确发布仓库、地址、版本、作者等信息：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\">common_widget_lib</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">通用控件</span></span><br><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"number\">2.0</span><span class=\"number\">.1</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">XXXXX</span></span><br><span class=\"line\"><span class=\"attr\">homepage:</span> <span class=\"string\">http://192.168.x.xx:8080/Flutter/_git/common_widget_lib</span></span><br><span class=\"line\"><span class=\"attr\">publish_to:</span> <span class=\"string\">http://192.168.x.xx:8080</span></span><br></pre></td></tr></table></figure>\n<p>更多配置可参考：<a href=\"https://blog.csdn.net/mengks1987/article/details/109500041\">https://blog.csdn.net/mengks1987/article/details/109500041</a></p>\n<h2 id=\"常用命令\">常用命令<a title=\"#常用命令\" href=\"#常用命令\"></a></h2>\n<p>运行打包命令（debug、profile、release），target是指定main.dart文件位置，如果main.dart在lib根目录可以不用配置target：</p>\n<ul>\n<li>flutter run --debug</li>\n<li>flutter run --release --target=lib\\app\\run\\main.dart</li>\n<li>flutter build apk //debug和release包都会打出</li>\n<li>flutter build apk --release --target=lib\\app\\run\\main_demo.dart</li>\n<li>flutter build ios --release //打ios的release包</li>\n<li>flutter build aar //插件打aar包</li>\n<li>flutter pub publish //插件pub发布，需要注意有可能墙的限制</li>\n</ul>\n<p>其他命令：</p>\n<ul>\n<li>flutter  //获取flutter所有命令</li>\n<li>flutter help  //获取命令帮助信息</li>\n<li>flutter doctor  //检查flutter安装状态，确保环境配置完好</li>\n<li>flutter devices  //获取所有真机设备列表包括iOS模拟器</li>\n<li>flutter run -d <deviceId>  //运行指定模拟器或者真机</li>\n<li>flutter run -d all  //运行所有模拟器，run的时候必须先开启模拟器</li>\n<li>flutter pub get  //获取flutter项目中依赖的包，如果已经下载，不强制获取，速度比较快</li>\n<li>flutter packages get //强制获取flutter项目中依赖的包，不包括flutter sdk</li>\n<li>flutter packages upgrade //更新flutter项目所有依赖包，不包括flutter sdk</li>\n<li>flutter analyze  //代码分析</li>\n</ul>\n<h2 id=\"其它问题\">其它问题<a title=\"#其它问题\" href=\"#其它问题\"></a></h2>\n<h3 id=\"flutter找不到androidstudio模拟器：\">flutter找不到androidstudio模拟器：<a title=\"#flutter找不到androidstudio模拟器：\" href=\"#flutter找不到androidstudio模拟器：\"></a></h3>\n<p>执行命令行：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flutter config --android-sdk D:\\android-sdk</span><br></pre></td></tr></table></figure>\n","prev":{"title":"Flutter开发必知必会","link":"posts/1642607126"},"next":{"title":"DO AS ONE WISHES","link":"posts/0"},"plink":"https://blog.ixin.run/posts/1642515162/","toc":[{"id":"开发环境搭建","title":"开发环境搭建","index":"1","children":[{"id":"1.下载安装插件&quot;dart&quot;和&quot;flutter&quot;","title":"1.下载安装插件&quot;Dart&quot;和&quot;Flutter&quot;","index":"1.1"},{"id":"2.下载flutter-sdk","title":"2.下载Flutter SDK","index":"1.2"},{"id":"3.配置环境变量","title":"3.配置环境变量","index":"1.3"},{"id":"4.测试flutter环境","title":"4.测试Flutter环境","index":"1.4"}]},{"id":"工程搭建","title":"工程搭建","index":"2","children":[{"id":"新建工程","title":"新建工程","index":"2.1"},{"id":"pubspec.yaml认识","title":"pubspec.yaml认识","index":"2.2"}]},{"id":"常用命令","title":"常用命令","index":"3"},{"id":"其它问题","title":"其它问题","index":"4","children":[{"id":"flutter找不到androidstudio模拟器：","title":"flutter找不到androidstudio模拟器：","index":"4.1"}]}],"reward":true,"copyright":{"author":"乂星人","link":"<a href=\"https://blog.ixin.run/posts/1642515162/\" title=\"Flutter环境搭建\">https://blog.ixin.run/posts/1642515162/</a>","license":"本文遵循<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\"rel=\"external nofollow\" target=\"_blank\"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接及本声明。"}}